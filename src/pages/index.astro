---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Container from '../components/Container.astro';
import shortcuts from '../content/shortcuts';
import LinkCard from '../components/LinkCard.astro';
import referenceSheet from '../content/referenceSheet';
import Code from "astro/components/Code.astro";

---

<Layout title="OpenBot Reference">
	<main>
		<Container>
			<div class="flex flex-col md:flex-row gap-2">
				{Object.values(shortcuts).map(shortcut => <LinkCard {...shortcut} />)}
			</div>
		</Container>
		<Container fullWidth={true}>
			<div class="grid grid-cols-1 md:grid-cols-[2fr_1fr_2fr] gap-2">
				<div class="basis-2/5 ref-panel">
					<h1 class="text-xl font-semibold">Inputs</h1>
					{Object.values(referenceSheet.input.entries).map(entry => <div class="ref-item">
						<div class="p-2">
							<h2 class="text-lg font-bold text-black dark:text-white">{entry.title}</h2>
							<p>{entry.subtitle}</p>
						</div>
						<div class="text-gray-800 dark:text-gray-300">
							<span class="dark:hidden">
								<Code code={entry.code} lang="ts" wrap={true} theme='light-plus' />
							</span>
							<span class="hidden dark:inline">
								<Code code={entry.code} lang="ts" wrap={true} theme='dark-plus' />
							</span>
						</div>
					</div>)}
				</div>
				<div class="basis-1/5 ref-panel">
					<h1 class="text-xl font-semibold">Terms</h1>
				</div>
				<div class="basis-2/5 ref-panel">
					<h1 class="text-xl font-semibold">Outputs</h1>
				</div>
			</div>
		</Container>
	</main>
</Layout>

<style lang="scss">
	.ref-panel {
		@apply p-2 flex-initial;
	}
	.ref-item {
		@apply mt-2 bg-gray-200 dark:bg-gray-700 border border-2 border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden;
	}
</style>
